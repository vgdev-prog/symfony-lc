parameters:

services:
    _defaults:
        autowire: true
        autoconfigure: true

    App\:
        resource: '../src/'
        exclude:
            - '../src/Kernel.php'

            - '../src/*/Domain/Entity/'
            - '../src/*/Domain/ValueObject/'
            - '../src/*/Domain/Event/'

            - '../src/*/Application/DTO/'
            - '../src/*/Application/UseCase/**/*Command.php'
            - '../src/*/Application/UseCase/**/*Query.php'

    App\Blog\Infrastructure\Http\:
        resource: '../src/Blog/Infrastructure/Http/**/*Controller.php'
        tags: [ 'controller.service_arguments' ]


    App\Common\Infrastructure\Events\DomainExceptionSubscriber:
        arguments:
            $environment: '%kernel.environment%'
        tags: ['kernel.event_subscriber']


    App\Blog\Domain\Repository\CategoryRepositoryInterface:
        alias: App\Blog\Infrastructure\Persistence\Doctrine\CategoryRepository

    App\Blog\Domain\Repository\PostRepositoryInterface:
        alias: App\Blog\Infrastructure\Persistence\Doctrine\PostRepository;

    App\Blog\Domain\Repository\TagRepositoryInterface:
        alias: App\Blog\Infrastructure\Persistence\Doctrine\TagRepository;
